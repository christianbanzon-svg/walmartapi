version: "3.9"
services:
  walmart:
    build: .
    image: walmartscraper:latest
    environment:
      - BLUECART_API_KEY=${BLUECART_API_KEY}
      - BLUECART_BASE_URL=${BLUECART_BASE_URL-https://api.bluecartapi.com/request}
      - WALMART_DOMAIN=${WALMART_DOMAIN-walmart.com}
      - OUTPUT_DIR=/data/output
      - DATABASE_PATH=/data/walmart.sqlite3
    volumes:
      - ./walmart/output:/data/output
    command: ["--keywords", "instyler", "--max-per-keyword", "10", "--export", "json", "csv"]

